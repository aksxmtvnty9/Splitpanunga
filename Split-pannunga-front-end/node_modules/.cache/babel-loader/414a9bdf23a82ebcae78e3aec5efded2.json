{"ast":null,"code":"import _slicedToArray from \"/home/anush/Documents/Projects/React Js/splitwise/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/anush/Documents/Projects/React Js/splitwise/src/Components/Dashboard/Dashboard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\nimport axios from 'axios';\nimport DashboardHeader from './DashboardHeader';\nimport DashboardIntro from './DashboardIntro';\nimport DashboardOutro from './DashboardOutro';\nimport ExpenseTracker from './Expence/ExpenseTracker';\nimport Friends from './Friends/Friends';\nimport ModalExpense from './ModalExpense';\nimport SettleExpense from './SettleExpense';\nimport MenuNavActivity from '../Menu-Navigation/MenuNavActivity';\nimport Promotions from '../Promotions/Promotions';\nimport RecentActivity from './RecentActivity/RecentActivity';\nimport AllExpense from './AllExpense/AllExpense';\n\nfunction Dashboard(props) {\n  const history = useHistory();\n\n  const _useState = useState([{\n    dash: \"dash-exp\",\n    visibility: true\n  }, {\n    dash: \"recent-activity\",\n    visibility: false\n  }, {\n    dash: \"all-expenses\",\n    visibility: false\n  }, {\n    modal: false\n  }, {\n    settle: false\n  }]),\n        _useState2 = _slicedToArray(_useState, 2),\n        view = _useState2[0],\n        setView = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        name = _useState4[0],\n        setName = _useState4[1];\n\n  function allVisibility() {\n    const currentViewModal = view.map(item => {\n      if (item.visibility === true) {\n        item.visibility = false;\n      }\n\n      item.modal = false;\n      return item;\n    });\n    handleView(currentViewModal);\n  }\n\n  function handleDashboardVisibility() {\n    history.push(\"/home/dashboard\");\n    const currentViewModal = view.map(item => {\n      if (item.visibility === true) {\n        item.visibility = false;\n      }\n\n      if (item.dash === \"dash-exp\") {\n        item.visibility = true;\n      }\n\n      item.modal = false;\n      return item;\n    });\n    handleView(currentViewModal);\n    setName(\"\");\n  }\n\n  function handleActivityVisibility() {\n    const currentViewModal = view.map(item => {\n      if (item.visibility === true) {\n        item.visibility = false;\n      }\n\n      if (item.dash === \"recent-activity\") {\n        item.visibility = true;\n      }\n\n      item.modal = false;\n      return item;\n    });\n    setName(\"\");\n    handleView(currentViewModal);\n    history.push(\"/home/activity\");\n  }\n\n  function handleAllExpensesVisibility() {\n    history.push(\"/home/all\");\n    const currentViewModal = view.map(item => {\n      if (item.visibility === true) {\n        item.visibility = false;\n      }\n\n      if (item.dash === \"all-expenses\") {\n        item.visibility = true;\n      }\n\n      item.modal = false;\n      return item;\n    });\n    setName(\"\");\n    handleView(currentViewModal);\n  }\n\n  function handleView(newView) {\n    setView(newView);\n  } //\n  //\n\n\n  const _useState5 = useState([{\n    id: \"\",\n    user_name: \"\",\n    owe_name: \"\",\n    amount: \"\",\n    description: \"\",\n    created_at: \"\",\n    updated_at: \"\",\n    deleted_at: \"\",\n    amountPaidBy: \"\",\n    amountPaid: \"\"\n  }]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        expenses = _useState6[0],\n        setExpenses = _useState6[1];\n\n  useEffect(() => {\n    document.title = \"Dashboard · Splitpannunga\";\n    const token = localStorage.getItem(\"login-key\");\n    axios.post(`http://localhost:4000/expense-view`, {\n      \"data\": token\n    }).then(res => {\n      console.log(res.data);\n      setExpenses(prevExpenses => {\n        prevExpenses = res.data;\n        return prevExpenses;\n      });\n\n      if (res.data.length != 0) {\n        // handleDashVisibility()\n        history.push(\"/home/dashboard\"); // alert(\"0\")\n      }\n    });\n    return () => {};\n  }, []);\n\n  function updateAmountYouAreOwe() {\n    var amount = 0;\n    var amountPaid = 0;\n    var prevName = \" \";\n    expenses.map(item => {\n      if (props.user[1] != item.owe_name) {\n        if (prevName != item.user_name) {\n          console.log(amountPaid);\n          parseFloat(amountPaid += parseFloat(item.amountPaid));\n          prevName = item.user_name;\n        }\n      }\n    });\n    expenses.map(item => {\n      if (props.user[1] === item.user_name) parseFloat(amount += parseFloat(item.amount / 2));\n    });\n    return amount - amountPaid;\n  }\n\n  function updateAmountYouOwe() {\n    var amount = 0;\n    var amountPaid = 0;\n    var prevName = \" \";\n    expenses.map(item => {\n      if (prevName !== item.user_name && props.user[1] != item.user_name) {\n        parseFloat(amountPaid += parseFloat(item.amountPaid));\n        prevName = item.user_name;\n      }\n    });\n    expenses.map(item => {\n      if (props.user[1] != item.user_name) parseFloat(amount += parseFloat(item.amount / 2));\n    });\n    return amount - amountPaid;\n  }\n\n  const _useState7 = useState(\"loading..\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        userFriend = _useState8[0],\n        setUserFriend = _useState8[1];\n\n  function callSetUserFriend(user) {\n    setUserFriend(prevUserFriend => {\n      prevUserFriend = user;\n      return prevUserFriend;\n    });\n    history.push(\"/home/friends\");\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"main-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(MenuNavActivity, {\n    view: view,\n    userData: props.user,\n    expenses: expenses,\n    method: handleDashboardVisibility,\n    method2: handleActivityVisibility,\n    method3: handleAllExpensesVisibility,\n    method4: allVisibility,\n    userMethod: callSetUserFriend,\n    meth: setName,\n    name: name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"dashboard-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/home/dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, React.createElement(DashboardHeader, {\n    method: handleView,\n    viewType: view,\n    name: \"Dashboard\",\n    buttons: \"yes\",\n    nos: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), React.createElement(ExpenseTracker, {\n    userData: props.user,\n    method: updateAmountYouAreOwe,\n    method2: updateAmountYouOwe,\n    expenses: expenses,\n    method4: allVisibility,\n    userMethod: callSetUserFriend,\n    meth: setName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/home/activity\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(DashboardHeader, {\n    method: handleView,\n    viewType: view,\n    name: \"Recent Activity\",\n    buttons: \"no\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }), React.createElement(RecentActivity, {\n    userData: props.user[1],\n    expenses: expenses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/home/all\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(DashboardHeader, {\n    method: handleView,\n    viewType: view,\n    name: \"All Expenses\",\n    buttons: \"yes\",\n    nos: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }), React.createElement(AllExpense, {\n    userData: props.user[1],\n    expenses: expenses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/home/friends\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(DashboardHeader, {\n    method: handleView,\n    viewType: view,\n    name: userFriend,\n    buttons: \"yes\",\n    nos: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }), React.createElement(Friends, {\n    userData: props.user[1],\n    name: userFriend,\n    expenses: expenses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/home/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, React.createElement(DashboardHeader, {\n    method: handleView,\n    viewType: view,\n    name: \"Dashboard\",\n    buttons: \"yes\",\n    nos: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }), React.createElement(DashboardIntro, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/home/complete\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(DashboardOutro, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  })))), React.createElement(Promotions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }), React.createElement(ModalExpense, {\n    method: handleView,\n    viewModal: view,\n    user: props.user,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }), React.createElement(SettleExpense, {\n    name: userFriend,\n    method: handleView,\n    expenses: expenses,\n    viewModal: view,\n    user: props.user[1],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  })));\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/anush/Documents/Projects/React Js/splitwise/src/Components/Dashboard/Dashboard.js"],"names":["React","useState","useEffect","useHistory","Route","BrowserRouter","Router","Switch","axios","DashboardHeader","DashboardIntro","DashboardOutro","ExpenseTracker","Friends","ModalExpense","SettleExpense","MenuNavActivity","Promotions","RecentActivity","AllExpense","Dashboard","props","history","dash","visibility","modal","settle","view","setView","name","setName","allVisibility","currentViewModal","map","item","handleView","handleDashboardVisibility","push","handleActivityVisibility","handleAllExpensesVisibility","newView","id","user_name","owe_name","amount","description","created_at","updated_at","deleted_at","amountPaidBy","amountPaid","expenses","setExpenses","document","title","token","localStorage","getItem","post","then","res","console","log","data","prevExpenses","length","updateAmountYouAreOwe","prevName","user","parseFloat","updateAmountYouOwe","userFriend","setUserFriend","callSetUserFriend","prevUserFriend"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,KAAT,EAAgBC,aAAa,IAAIC,MAAjC,EAAyCC,MAAzC,QAAsD,kBAAtD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;AAGA,SAASC,SAAT,CAAmBC,KAAnB,EAAyB;AAErB,QAAMC,OAAO,GAAGnB,UAAU,EAA1B;;AAFqB,oBAGGF,QAAQ,CAAC,CAC7B;AACIsB,IAAAA,IAAI,EAAC,UADT;AAEIC,IAAAA,UAAU,EAAE;AAFhB,GAD6B,EAK7B;AACID,IAAAA,IAAI,EAAC,iBADT;AAEIC,IAAAA,UAAU,EAAE;AAFhB,GAL6B,EAS7B;AACID,IAAAA,IAAI,EAAC,cADT;AAEIC,IAAAA,UAAU,EAAE;AAFhB,GAT6B,EAa7B;AACIC,IAAAA,KAAK,EAAC;AADV,GAb6B,EAgB7B;AACIC,IAAAA,MAAM,EAAC;AADX,GAhB6B,CAAD,CAHX;AAAA;AAAA,QAGdC,IAHc;AAAA,QAGRC,OAHQ;;AAAA,qBAuBE3B,QAAQ,CAAE,EAAF,CAvBV;AAAA;AAAA,QAuBd4B,IAvBc;AAAA,QAuBTC,OAvBS;;AAwBrB,WAASC,aAAT,GAAwB;AACpB,UAAMC,gBAAgB,GAAGL,IAAI,CAACM,GAAL,CAAUC,IAAD,IAAS;AACvC,UAAGA,IAAI,CAACV,UAAL,KAAoB,IAAvB,EAA4B;AACxBU,QAAAA,IAAI,CAACV,UAAL,GAAkB,KAAlB;AACH;;AACDU,MAAAA,IAAI,CAACT,KAAL,GAAa,KAAb;AACA,aAAOS,IAAP;AACH,KANwB,CAAzB;AAOAC,IAAAA,UAAU,CAACH,gBAAD,CAAV;AACH;;AACD,WAASI,yBAAT,GAAoC;AAChCd,IAAAA,OAAO,CAACe,IAAR,CAAa,iBAAb;AACA,UAAML,gBAAgB,GAAGL,IAAI,CAACM,GAAL,CAAUC,IAAD,IAAS;AACvC,UAAGA,IAAI,CAACV,UAAL,KAAoB,IAAvB,EAA4B;AACxBU,QAAAA,IAAI,CAACV,UAAL,GAAkB,KAAlB;AACH;;AACD,UAAGU,IAAI,CAACX,IAAL,KAAc,UAAjB,EAA4B;AACxBW,QAAAA,IAAI,CAACV,UAAL,GAAkB,IAAlB;AACH;;AACDU,MAAAA,IAAI,CAACT,KAAL,GAAa,KAAb;AACA,aAAOS,IAAP;AACH,KATwB,CAAzB;AAUAC,IAAAA,UAAU,CAACH,gBAAD,CAAV;AACAF,IAAAA,OAAO,CAAC,EAAD,CAAP;AACH;;AACD,WAASQ,wBAAT,GAAmC;AAC/B,UAAMN,gBAAgB,GAAGL,IAAI,CAACM,GAAL,CAAUC,IAAD,IAAS;AACvC,UAAGA,IAAI,CAACV,UAAL,KAAoB,IAAvB,EAA4B;AACxBU,QAAAA,IAAI,CAACV,UAAL,GAAkB,KAAlB;AACH;;AACD,UAAGU,IAAI,CAACX,IAAL,KAAc,iBAAjB,EAAmC;AAC/BW,QAAAA,IAAI,CAACV,UAAL,GAAkB,IAAlB;AACH;;AACDU,MAAAA,IAAI,CAACT,KAAL,GAAa,KAAb;AACA,aAAOS,IAAP;AACH,KATwB,CAAzB;AAUAJ,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAK,IAAAA,UAAU,CAACH,gBAAD,CAAV;AACAV,IAAAA,OAAO,CAACe,IAAR,CAAa,gBAAb;AACH;;AACD,WAASE,2BAAT,GAAsC;AAClCjB,IAAAA,OAAO,CAACe,IAAR,CAAa,WAAb;AACA,UAAML,gBAAgB,GAAGL,IAAI,CAACM,GAAL,CAAUC,IAAD,IAAS;AACvC,UAAGA,IAAI,CAACV,UAAL,KAAoB,IAAvB,EAA4B;AACxBU,QAAAA,IAAI,CAACV,UAAL,GAAkB,KAAlB;AACH;;AACD,UAAGU,IAAI,CAACX,IAAL,KAAc,cAAjB,EAAgC;AAC5BW,QAAAA,IAAI,CAACV,UAAL,GAAkB,IAAlB;AACH;;AACDU,MAAAA,IAAI,CAACT,KAAL,GAAa,KAAb;AACA,aAAOS,IAAP;AACH,KATwB,CAAzB;AAUAJ,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAK,IAAAA,UAAU,CAACH,gBAAD,CAAV;AACH;;AACD,WAASG,UAAT,CAAoBK,OAApB,EAA4B;AACxBZ,IAAAA,OAAO,CAACY,OAAD,CAAP;AACH,GAjFoB,CAkFrB;AACA;;;AAnFqB,qBAoFSvC,QAAQ,CAAC,CAAC;AACpCwC,IAAAA,EAAE,EAAC,EADiC;AAEpCC,IAAAA,SAAS,EAAC,EAF0B;AAGpCC,IAAAA,QAAQ,EAAC,EAH2B;AAIpCC,IAAAA,MAAM,EAAC,EAJ6B;AAKpCC,IAAAA,WAAW,EAAC,EALwB;AAMpCC,IAAAA,UAAU,EAAC,EANyB;AAOpCC,IAAAA,UAAU,EAAC,EAPyB;AAQpCC,IAAAA,UAAU,EAAC,EARyB;AASpCC,IAAAA,YAAY,EAAC,EATuB;AAUpCC,IAAAA,UAAU,EAAC;AAVyB,GAAD,CAAD,CApFjB;AAAA;AAAA,QAoFfC,QApFe;AAAA,QAoFNC,WApFM;;AAgGrBlD,EAAAA,SAAS,CAAC,MAAM;AACZmD,IAAAA,QAAQ,CAACC,KAAT,GAAiB,2BAAjB;AACA,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd;AACAjD,IAAAA,KAAK,CAACkD,IAAN,CAAY,oCAAZ,EAAgD;AAAC,cAAOH;AAAR,KAAhD,EACCI,IADD,CACMC,GAAG,IAAE;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAX,MAAAA,WAAW,CAACY,YAAY,IAAE;AACtBA,QAAAA,YAAY,GAAEJ,GAAG,CAACG,IAAlB;AACA,eAAOC,YAAP;AACH,OAHU,CAAX;;AAIA,UAAGJ,GAAG,CAACG,IAAJ,CAASE,MAAT,IAAmB,CAAtB,EAAwB;AACpB;AACA3C,QAAAA,OAAO,CAACe,IAAR,CAAa,iBAAb,EAFoB,CAGpB;AACH;AACJ,KAZD;AAaA,WAAO,MAAM,CAEZ,CAFD;AAGH,GAnBQ,EAmBP,EAnBO,CAAT;;AAoBA,WAAS6B,qBAAT,GAAgC;AAC5B,QAAItB,MAAM,GAAC,CAAX;AACA,QAAIM,UAAU,GAAC,CAAf;AACA,QAAIiB,QAAQ,GAAE,GAAd;AACAhB,IAAAA,QAAQ,CAAClB,GAAT,CAAaC,IAAI,IAAE;AACf,UAAGb,KAAK,CAAC+C,IAAN,CAAW,CAAX,KAAiBlC,IAAI,CAACS,QAAzB,EAAkC;AAC9B,YAAGwB,QAAQ,IAAGjC,IAAI,CAACQ,SAAnB,EAA6B;AACzBmB,UAAAA,OAAO,CAACC,GAAR,CAAYZ,UAAZ;AACAmB,UAAAA,UAAU,CAACnB,UAAU,IAAEmB,UAAU,CAACnC,IAAI,CAACgB,UAAN,CAAvB,CAAV;AACAiB,UAAAA,QAAQ,GAACjC,IAAI,CAACQ,SAAd;AACH;AACJ;AACJ,KARD;AASAS,IAAAA,QAAQ,CAAClB,GAAT,CAAaC,IAAI,IAAE;AACf,UAAGb,KAAK,CAAC+C,IAAN,CAAW,CAAX,MAAkBlC,IAAI,CAACQ,SAA1B,EACI2B,UAAU,CAACzB,MAAM,IAAEyB,UAAU,CAACnC,IAAI,CAACU,MAAL,GAAY,CAAb,CAAnB,CAAV;AACP,KAHD;AAIA,WAAOA,MAAM,GAACM,UAAd;AACH;;AACD,WAASoB,kBAAT,GAA6B;AACzB,QAAI1B,MAAM,GAAC,CAAX;AACA,QAAIM,UAAU,GAAC,CAAf;AACA,QAAIiB,QAAQ,GAAE,GAAd;AACAhB,IAAAA,QAAQ,CAAClB,GAAT,CAAaC,IAAI,IAAE;AACf,UAAGiC,QAAQ,KAAIjC,IAAI,CAACQ,SAAjB,IAA6BrB,KAAK,CAAC+C,IAAN,CAAW,CAAX,KAAiBlC,IAAI,CAACQ,SAAtD,EAAgE;AAC5D2B,QAAAA,UAAU,CAACnB,UAAU,IAAEmB,UAAU,CAACnC,IAAI,CAACgB,UAAN,CAAvB,CAAV;AACAiB,QAAAA,QAAQ,GAACjC,IAAI,CAACQ,SAAd;AACH;AACJ,KALD;AAMAS,IAAAA,QAAQ,CAAClB,GAAT,CAAaC,IAAI,IAAE;AACf,UAAGb,KAAK,CAAC+C,IAAN,CAAW,CAAX,KAAiBlC,IAAI,CAACQ,SAAzB,EACI2B,UAAU,CAACzB,MAAM,IAAEyB,UAAU,CAACnC,IAAI,CAACU,MAAL,GAAY,CAAb,CAAnB,CAAV;AACP,KAHD;AAIA,WAAOA,MAAM,GAACM,UAAd;AACH;;AAtJoB,qBAuJcjD,QAAQ,CAAC,WAAD,CAvJtB;AAAA;AAAA,QAuJdsE,UAvJc;AAAA,QAuJHC,aAvJG;;AAyJrB,WAASC,iBAAT,CAA2BL,IAA3B,EAAgC;AAC5BI,IAAAA,aAAa,CAACE,cAAc,IAAI;AAC5BA,MAAAA,cAAc,GAAGN,IAAjB;AACA,aAAOM,cAAP;AACH,KAHY,CAAb;AAIApD,IAAAA,OAAO,CAACe,IAAR,CAAa,eAAb;AACH;;AACD,SACI,0CACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAEV,IAAvB;AAA6B,IAAA,QAAQ,EAAEN,KAAK,CAAC+C,IAA7C;AAAmD,IAAA,QAAQ,EAAEjB,QAA7D;AAAuE,IAAA,MAAM,EAAEf,yBAA/E;AAA0G,IAAA,OAAO,EAAEE,wBAAnH;AAA6I,IAAA,OAAO,EAAEC,2BAAtJ;AAAmL,IAAA,OAAO,EAAER,aAA5L;AAA2M,IAAA,UAAU,EAAE0C,iBAAvN;AAA0O,IAAA,IAAI,EAAE3C,OAAhP;AAAyP,IAAA,IAAI,EAAED,IAA/P;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,iBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AAAiB,IAAA,MAAM,EAAEM,UAAzB;AAAqC,IAAA,QAAQ,EAAER,IAA/C;AAAqD,IAAA,IAAI,EAAC,WAA1D;AAAsE,IAAA,OAAO,EAAC,KAA9E;AAAoF,IAAA,GAAG,EAAC,GAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,cAAD;AAAgB,IAAA,QAAQ,EAAEN,KAAK,CAAC+C,IAAhC;AAAsC,IAAA,MAAM,EAAEF,qBAA9C;AAAqE,IAAA,OAAO,EAAEI,kBAA9E;AAAkG,IAAA,QAAQ,EAAEnB,QAA5G;AAAsH,IAAA,OAAO,EAAEpB,aAA/H;AAA8I,IAAA,UAAU,EAAE0C,iBAA1J;AAA6K,IAAA,IAAI,EAAE3C,OAAnL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,EAKI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,gBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AAAiB,IAAA,MAAM,EAAEK,UAAzB;AAAqC,IAAA,QAAQ,EAAER,IAA/C;AAAqD,IAAA,IAAI,EAAC,iBAA1D;AAA4E,IAAA,OAAO,EAAC,IAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,cAAD;AAAgB,IAAA,QAAQ,EAAEN,KAAK,CAAC+C,IAAN,CAAW,CAAX,CAA1B;AAAyC,IAAA,QAAQ,EAAEjB,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALJ,EASI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AAAiB,IAAA,MAAM,EAAEhB,UAAzB;AAAqC,IAAA,QAAQ,EAAER,IAA/C;AAAqD,IAAA,IAAI,EAAC,cAA1D;AAAyE,IAAA,OAAO,EAAC,KAAjF;AAAuF,IAAA,GAAG,EAAC,GAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,UAAD;AAAY,IAAA,QAAQ,EAAEN,KAAK,CAAC+C,IAAN,CAAW,CAAX,CAAtB;AAAqC,IAAA,QAAQ,EAAEjB,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CATJ,EAaI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AAAiB,IAAA,MAAM,EAAEhB,UAAzB;AAAqC,IAAA,QAAQ,EAAER,IAA/C;AAAqD,IAAA,IAAI,EAAE4C,UAA3D;AAAuE,IAAA,OAAO,EAAC,KAA/E;AAAqF,IAAA,GAAG,EAAC,GAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,OAAD;AAAS,IAAA,QAAQ,EAAElD,KAAK,CAAC+C,IAAN,CAAW,CAAX,CAAnB;AAAkC,IAAA,IAAI,EAAEG,UAAxC;AAAoD,IAAA,QAAQ,EAAEpB,QAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAbJ,EAiBI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AAAiB,IAAA,MAAM,EAAEhB,UAAzB;AAAqC,IAAA,QAAQ,EAAER,IAA/C;AAAqD,IAAA,IAAI,EAAC,WAA1D;AAAsE,IAAA,OAAO,EAAC,KAA9E;AAAoF,IAAA,GAAG,EAAC,GAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAjBJ,EAqBI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,gBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CArBJ,CADJ,CAFJ,EA6BI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7BJ,EA8BI,oBAAC,YAAD;AAAc,IAAA,MAAM,EAAEQ,UAAtB;AAAkC,IAAA,SAAS,EAAER,IAA7C;AAAmD,IAAA,IAAI,EAAEN,KAAK,CAAC+C,IAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BJ,EA+BI,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAEG,UAArB;AAAiC,IAAA,MAAM,EAAEpC,UAAzC;AAAqD,IAAA,QAAQ,EAAEgB,QAA/D;AAAyE,IAAA,SAAS,EAAExB,IAApF;AAA0F,IAAA,IAAI,EAAEN,KAAK,CAAC+C,IAAN,CAAW,CAAX,CAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BJ,CADJ,CADJ;AAqCH;;AAED,eAAehD,SAAf","sourcesContent":["import React,{ useState, useEffect } from 'react'\nimport { useHistory } from \"react-router-dom\";\nimport { Route, BrowserRouter as Router, Switch} from 'react-router-dom'\nimport axios from 'axios'\nimport DashboardHeader from './DashboardHeader'\nimport DashboardIntro from './DashboardIntro'\nimport DashboardOutro from './DashboardOutro'\nimport ExpenseTracker from './Expence/ExpenseTracker'\nimport Friends from './Friends/Friends'\nimport ModalExpense from './ModalExpense'\nimport SettleExpense from './SettleExpense'\nimport MenuNavActivity from '../Menu-Navigation/MenuNavActivity'\nimport Promotions from '../Promotions/Promotions'\nimport RecentActivity from './RecentActivity/RecentActivity'\nimport AllExpense from './AllExpense/AllExpense'\n\n\nfunction Dashboard(props){\n\n    const history = useHistory();\n    const [view, setView] = useState([\n        {\n            dash:\"dash-exp\",\n            visibility: true\n        },\n        {\n            dash:\"recent-activity\",\n            visibility: false\n        },\n        {\n            dash:\"all-expenses\",\n            visibility: false\n        },\n        {\n            modal:false\n        },\n        {\n            settle:false\n        }\n    ])\n    const [name,setName] = useState (\"\");\n    function allVisibility(){\n        const currentViewModal = view.map((item) =>{\n            if(item.visibility === true){\n                item.visibility = false\n            }\n            item.modal = false\n            return item\n        })\n        handleView(currentViewModal)\n    }\n    function handleDashboardVisibility(){\n        history.push(\"/home/dashboard\")\n        const currentViewModal = view.map((item) =>{\n            if(item.visibility === true){\n                item.visibility = false\n            }\n            if(item.dash === \"dash-exp\"){\n                item.visibility = true\n            }\n            item.modal = false\n            return item\n        })\n        handleView(currentViewModal)\n        setName(\"\")\n    }\n    function handleActivityVisibility(){\n        const currentViewModal = view.map((item) =>{\n            if(item.visibility === true){\n                item.visibility = false\n            }\n            if(item.dash === \"recent-activity\"){\n                item.visibility = true\n            }\n            item.modal = false\n            return item\n        })\n        setName(\"\")\n        handleView(currentViewModal)\n        history.push(\"/home/activity\")\n    }\n    function handleAllExpensesVisibility(){\n        history.push(\"/home/all\")\n        const currentViewModal = view.map((item) =>{\n            if(item.visibility === true){\n                item.visibility = false\n            }\n            if(item.dash === \"all-expenses\"){\n                item.visibility = true\n            }\n            item.modal = false\n            return item\n        })\n        setName(\"\")\n        handleView(currentViewModal)\n    }\n    function handleView(newView){\n        setView(newView)\n    }\n    //\n    //\n    const[expenses,setExpenses] = useState([{\n        id:\"\",\n        user_name:\"\",\n        owe_name:\"\",\n        amount:\"\", \n        description:\"\",\n        created_at:\"\",\n        updated_at:\"\",\n        deleted_at:\"\",\n        amountPaidBy:\"\",\n        amountPaid:\"\"\n    }]);\n    useEffect(() => {\n        document.title = \"Dashboard · Splitpannunga\"\n        const token = localStorage.getItem(\"login-key\");\n        axios.post(`http://localhost:4000/expense-view`,{\"data\":token})\n        .then(res=>{\n            console.log(res.data)\n            setExpenses(prevExpenses=>{\n                prevExpenses= res.data\n                return prevExpenses\n            })\n            if(res.data.length != 0){\n                // handleDashVisibility()\n                history.push(\"/home/dashboard\")\n                // alert(\"0\")\n            }\n        })\n        return () => {\n            \n        };\n    },[]);\n    function updateAmountYouAreOwe(){\n        var amount=0;\n        var amountPaid=0;\n        var prevName= \" \";\n        expenses.map(item=>{\n            if(props.user[1] != item.owe_name){\n                if(prevName!= item.user_name){\n                    console.log(amountPaid)\n                    parseFloat(amountPaid+=parseFloat(item.amountPaid))\n                    prevName=item.user_name\n                }\n            }\n        })\n        expenses.map(item=>{\n            if(props.user[1] === item.user_name)\n                parseFloat(amount+=parseFloat(item.amount/2))\n        })\n        return amount-amountPaid\n    }\n    function updateAmountYouOwe(){\n        var amount=0;\n        var amountPaid=0;\n        var prevName= \" \";\n        expenses.map(item=>{\n            if(prevName!== item.user_name &&props.user[1] != item.user_name){\n                parseFloat(amountPaid+=parseFloat(item.amountPaid))\n                prevName=item.user_name\n            }\n        })\n        expenses.map(item=>{\n            if(props.user[1] != item.user_name)\n                parseFloat(amount+=parseFloat(item.amount/2))\n        })\n        return amount-amountPaid\n    }\n    const [userFriend,setUserFriend] = useState(\"loading..\");\n\n    function callSetUserFriend(user){\n        setUserFriend(prevUserFriend => {\n            prevUserFriend = user;\n            return prevUserFriend\n        })\n        history.push(\"/home/friends\")\n    }\n    return (\n        <>\n            <div className=\"main-content\">\n                <MenuNavActivity view={view} userData={props.user} expenses={expenses} method={handleDashboardVisibility} method2={handleActivityVisibility} method3={handleAllExpensesVisibility} method4={allVisibility} userMethod={callSetUserFriend} meth={setName} name={name}/>\n                <div className=\"dashboard-content\">\n                    <Switch>\n                        <Route path=\"/home/dashboard\">\n                            <DashboardHeader method={handleView} viewType={view} name=\"Dashboard\" buttons=\"yes\" nos=\"1\"/>\n                            <ExpenseTracker userData={props.user} method={updateAmountYouAreOwe} method2={updateAmountYouOwe} expenses={expenses} method4={allVisibility} userMethod={callSetUserFriend} meth={setName}/>\n                        </Route>\n                        <Route exact path=\"/home/activity\">\n                            <DashboardHeader method={handleView} viewType={view} name=\"Recent Activity\" buttons=\"no\"/>\n                            <RecentActivity userData={props.user[1]} expenses={expenses} />\n                        </Route>\n                        <Route path=\"/home/all\">\n                            <DashboardHeader method={handleView} viewType={view} name=\"All Expenses\" buttons=\"yes\" nos=\"1\"/>\n                            <AllExpense userData={props.user[1]} expenses={expenses}/>\n                        </Route>\n                        <Route path=\"/home/friends\">\n                            <DashboardHeader method={handleView} viewType={view} name={userFriend} buttons=\"yes\" nos=\"2\"/>\n                            <Friends userData={props.user[1]} name={userFriend} expenses={expenses}/>\n                        </Route>\n                        <Route exact path=\"/home/\">\n                            <DashboardHeader method={handleView} viewType={view} name=\"Dashboard\" buttons=\"yes\" nos=\"1\"/>\n                            <DashboardIntro />\n                        </Route>\n                        <Route exact path=\"/home/complete\">\n                            <DashboardOutro />\n                        </Route>\n                    </Switch>\n                </div>\n                <Promotions/>\n                <ModalExpense method={handleView} viewModal={view} user={props.user}/>\n                <SettleExpense name={userFriend} method={handleView} expenses={expenses} viewModal={view} user={props.user[1]}/>\n            </div>\n        </>\n    )\n}\n\nexport default Dashboard"]},"metadata":{},"sourceType":"module"}